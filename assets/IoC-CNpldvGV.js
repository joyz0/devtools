var Zt=Object.defineProperty;var te=(n,t,e)=>t in n?Zt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var p=(n,t,e)=>(te(n,typeof t!="symbol"?t+"":t,e),e);import{r as ee}from"./index-BBkUAzwr.js";var Ot={exports:{}},q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ne=ee,ie=Symbol.for("react.element"),re=Symbol.for("react.fragment"),oe=Object.prototype.hasOwnProperty,ae=ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,se={key:!0,ref:!0,__self:!0,__source:!0};function Dt(n,t,e){var i,r={},o=null,a=null;e!==void 0&&(o=""+e),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(i in t)oe.call(t,i)&&!se.hasOwnProperty(i)&&(r[i]=t[i]);if(n&&n.defaultProps)for(i in t=n.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:ie,type:n,key:o,ref:a,props:r,_owner:ae.current}}q.Fragment=re;q.jsx=Dt;q.jsxs=Dt;Ot.exports=q;var hi=Ot.exports,b="named",It="name",ft="unmanaged",Ct="optional",Q="inject",W="multi_inject",Rt="inversify:tagged",Nt="inversify:tagged_props",rt="inversify:paramtypes",ue="design:paramtypes",gt="post_construct",ot="pre_destroy";function ce(){return[Q,W,It,ft,b,Ct]}var yt=ce(),g={Request:"Request",Singleton:"Singleton",Transient:"Transient"},v={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},H={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},le=0;function G(){return le++}var he=function(){function n(t,e){this.id=G(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=v.Invalid,this.constraint=function(i){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return n.prototype.clone=function(){var t=new n(this.serviceIdentifier,this.scope);return t.activated=t.scope===g.Singleton?this.activated:!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.onDeactivation=this.onDeactivation,t.cache=this.cache,t},n}(),fe="Cannot apply @injectable decorator multiple times.",Mt="Metadata key was used more than once in a parameter:",B="NULL argument",_t="Key Not Found",de="Ambiguous match found for serviceIdentifier:",pe="Could not unbind serviceIdentifier:",ve="No matching bindings found for serviceIdentifier:",xt="Missing required @injectable annotation in:",ge="Missing required @inject or @multiInject annotation in:",ye=function(n){return"@inject called with undefined this could mean that the class "+n+" has a circular dependency problem. You can use a LazyServiceIdentifier to  overcome this limitation."},_e="Circular dependency found:",me="Invalid binding type:",we="No snapshot available to restore.",be="Invalid return type in middleware. Middleware must return!",Te="Value provided to function binding must be a function!",Ae=function(n){return"You are attempting to construct '"+n+`' in a synchronous way
 but it has asynchronous dependencies.`},Ee="The toSelf function can only be applied when a constructor is used as service identifier",Pt="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",Se=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return"The number of constructor arguments in the derived class "+(n[0]+" must be >= than the number of constructor arguments of its base class.")},Oe="Invalid Container constructor argument. Container options must be an object.",De='Invalid Container option. Default scope must be a string ("singleton" or "transient").',Ie="Invalid Container option. Auto bind injectable must be a boolean",Ce="Invalid Container option. Skip base check must be a boolean",Re="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)",Ne=function(n,t){return"@postConstruct error in class "+n+": "+t},Me=function(n,t){return"@preDestroy error in class "+n+": "+t},at=function(n,t){return"onDeactivation() error in class "+n+": "+t},xe=function(n,t){return"It looks like there is a circular dependency in one of the '"+n+"' bindings. Please investigate bindings with "+("service identifier '"+t+"'.")},Pe="Maximum call stack size exceeded",Be=function(){function n(){}return n.prototype.getConstructorMetadata=function(t){var e=Reflect.getMetadata(rt,t),i=Reflect.getMetadata(Rt,t);return{compilerGeneratedMetadata:e,userGeneratedMetadata:i||{}}},n.prototype.getPropertiesMetadata=function(t){var e=Reflect.getMetadata(Nt,t)||[];return e},n}(),$={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function Bt(n){return n instanceof RangeError||n.message===Pe}var Le=function(n,t){try{return n()}catch(e){throw Bt(e)&&(e=t()),e}};function j(n){if(typeof n=="function"){var t=n;return t.name}else{if(typeof n=="symbol")return n.toString();var t=n;return t}}function mt(n,t,e){var i="",r=e(n,t);return r.length!==0&&(i=`
Registered bindings:`,r.forEach(function(o){var a="Object";o.implementationType!==null&&(a=Z(o.implementationType)),i=i+`
 `+a,o.constraint.metaData&&(i=i+" - "+o.constraint.metaData)})),i}function Lt(n,t){return n.parentRequest===null?!1:n.parentRequest.serviceIdentifier===t?!0:Lt(n.parentRequest,t)}function Fe(n){function t(i,r){r===void 0&&(r=[]);var o=j(i.serviceIdentifier);return r.push(o),i.parentRequest!==null?t(i.parentRequest,r):r}var e=t(n);return e.reverse().join(" --> ")}function Ft(n){n.childRequests.forEach(function(t){if(Lt(t,t.serviceIdentifier)){var e=Fe(t);throw new Error(_e+" "+e)}else Ft(t)})}function We(n,t){if(t.isTagged()||t.isNamed()){var e="",i=t.getNamedTag(),r=t.getCustomTags();return i!==null&&(e+=i.toString()+`
`),r!==null&&r.forEach(function(o){e+=o.toString()+`
`})," "+n+`
 `+n+" - "+e}else return" "+n}function Z(n){if(n.name)return n.name;var t=n.toString(),e=t.match(/^function\s*([^\s(]+)/);return e?e[1]:"Anonymous function: "+t}function je(n){return n.toString().slice(7,-1)}var Wt=function(){function n(t){this.id=G(),this.container=t}return n.prototype.addPlan=function(t){this.plan=t},n.prototype.setCurrentRequest=function(t){this.currentRequest=t},n}(),M=function(){function n(t,e){this.key=t,this.value=e}return n.prototype.toString=function(){return this.key===b?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},n}(),ke=function(){function n(t,e){this.parentContext=t,this.rootRequest=e}return n}(),He=function(){function n(t){this._cb=t}return n.prototype.unwrap=function(){return this._cb()},n}(),Ge=function(){function n(t){this.str=t}return n.prototype.startsWith=function(t){return this.str.indexOf(t)===0},n.prototype.endsWith=function(t){var e="",i=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},i)},n.prototype.contains=function(t){return this.str.indexOf(t)!==-1},n.prototype.equals=function(t){return this.str===t},n.prototype.value=function(){return this.str},n}(),tt=function(){function n(t,e,i,r){this.id=G(),this.type=t,this.serviceIdentifier=i;var o=typeof e=="symbol"?je(e):e;this.name=new Ge(o||""),this.identifier=e,this.metadata=new Array;var a=null;typeof r=="string"?a=new M(b,r):r instanceof M&&(a=r),a!==null&&this.metadata.push(a)}return n.prototype.hasTag=function(t){for(var e=0,i=this.metadata;e<i.length;e++){var r=i[e];if(r.key===t)return!0}return!1},n.prototype.isArray=function(){return this.hasTag(W)},n.prototype.matchesArray=function(t){return this.matchesTag(W)(t)},n.prototype.isNamed=function(){return this.hasTag(b)},n.prototype.isTagged=function(){return this.metadata.some(function(t){return yt.every(function(e){return t.key!==e})})},n.prototype.isOptional=function(){return this.matchesTag(Ct)(!0)},n.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(t){return t.key===b})[0]:null},n.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(t){return yt.every(function(e){return t.key!==e})}):null},n.prototype.matchesNamedTag=function(t){return this.matchesTag(b)(t)},n.prototype.matchesTag=function(t){var e=this;return function(i){for(var r=0,o=e.metadata;r<o.length;r++){var a=o[r];if(a.key===t&&a.value===i)return!0}return!1}},n}(),Y=function(n,t,e){if(e||arguments.length===2)for(var i=0,r=t.length,o;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))};function Ue(n,t){var e=Z(t);return jt(n,e,t,!1)}function jt(n,t,e,i){var r=n.getConstructorMetadata(e),o=r.compilerGeneratedMetadata;if(o===void 0){var a=xt+" "+t+".";throw new Error(a)}var u=r.userGeneratedMetadata,l=Object.keys(u),s=e.length===0&&l.length>0,c=l.length>e.length,f=s||c?l.length:e.length,d=$e(i,t,o,u,f),T=kt(n,e,t),I=Y(Y([],d,!0),T,!0);return I}function Ve(n,t,e,i,r){var o=r[n.toString()]||[],a=Gt(o),u=a.unmanaged!==!0,l=i[n],s=a.inject||a.multiInject;if(l=s||l,l instanceof He&&(l=l.unwrap()),u){var c=l===Object,f=l===Function,d=l===void 0,T=c||f||d;if(!t&&T){var I=ge+" argument "+n+" in class "+e+".";throw new Error(I)}var P=new tt(H.ConstructorArgument,a.targetName,l);return P.metadata=o,P}return null}function $e(n,t,e,i,r){for(var o=[],a=0;a<r;a++){var u=a,l=Ve(u,n,t,e,i);l!==null&&o.push(l)}return o}function Ye(n,t,e,i){var r=n||t;if(r===void 0){var o=xt+" for property "+String(e)+" in class "+i+".";throw new Error(o)}return r}function kt(n,t,e){for(var i=n.getPropertiesMetadata(t),r=[],o=Object.getOwnPropertySymbols(i),a=Object.keys(i),u=a.concat(o),l=0,s=u;l<s.length;l++){var c=s[l],f=i[c],d=Gt(f),T=d.targetName||c,I=Ye(d.inject,d.multiInject,c,e),P=new tt(H.ClassProperty,T,I);P.metadata=f,r.push(P)}var vt=Object.getPrototypeOf(t.prototype).constructor;if(vt!==Object){var Qt=kt(n,vt,e);r=Y(Y([],r,!0),Qt,!0)}return r}function Ht(n,t){var e=Object.getPrototypeOf(t.prototype).constructor;if(e!==Object){var i=Z(e),r=jt(n,i,e,!0),o=r.map(function(l){return l.metadata.filter(function(s){return s.key===ft})}),a=[].concat.apply([],o).length,u=r.length-a;return u>0?u:Ht(n,e)}else return 0}function Gt(n){var t={};return n.forEach(function(e){t[e.key.toString()]=e.value}),{inject:t[Q],multiInject:t[W],targetName:t[It],unmanaged:t[ft]}}var dt=function(){function n(t,e,i,r,o){this.id=G(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=i,this.target=o,this.childRequests=[],this.bindings=Array.isArray(r)?r:[r],this.requestScope=i===null?new Map:null}return n.prototype.addChildRequest=function(t,e,i){var r=new n(t,this.parentContext,this,e,i);return this.childRequests.push(r),r},n}();function K(n){return n._bindingDictionary}function Ke(n,t,e,i,r,o){var a=n?W:Q,u=new M(a,e),l=new tt(t,i,e,u);if(r!==void 0){var s=new M(r,o);l.metadata.push(s)}return l}function wt(n,t,e,i,r){var o=k(e.container,r.serviceIdentifier),a=[];return o.length===$.NoBindingsAvailable&&e.container.options.autoBindInjectable&&typeof r.serviceIdentifier=="function"&&n.getConstructorMetadata(r.serviceIdentifier).compilerGeneratedMetadata&&(e.container.bind(r.serviceIdentifier).toSelf(),o=k(e.container,r.serviceIdentifier)),t?a=o:a=o.filter(function(u){var l=new dt(u.serviceIdentifier,e,i,u,r);return u.constraint(l)}),ze(r.serviceIdentifier,a,r,e.container),a}function ze(n,t,e,i){switch(t.length){case $.NoBindingsAvailable:if(e.isOptional())return t;var r=j(n),o=ve;throw o+=We(r,e),o+=mt(i,r,k),new Error(o);case $.OnlyOneBindingAvailable:return t;case $.MultipleBindingsAvailable:default:if(e.isArray())return t;var r=j(n),o=de+" "+r;throw o+=mt(i,r,k),new Error(o)}}function Ut(n,t,e,i,r,o){var a,u;if(r===null){a=wt(n,t,i,null,o),u=new dt(e,i,null,a,o);var l=new ke(i,u);i.addPlan(l)}else a=wt(n,t,i,r,o),u=r.addChildRequest(o.serviceIdentifier,a,o);a.forEach(function(s){var c=null;if(o.isArray())c=u.addChildRequest(s.serviceIdentifier,s,o);else{if(s.cache)return;c=u}if(s.type===v.Instance&&s.implementationType!==null){var f=Ue(n,s.implementationType);if(!i.container.options.skipBaseClassChecks){var d=Ht(n,s.implementationType);if(f.length<d){var T=Se(Z(s.implementationType));throw new Error(T)}}f.forEach(function(I){Ut(n,!1,I.serviceIdentifier,i,c,I)})}})}function k(n,t){var e=[],i=K(n);return i.hasKey(t)?e=i.get(t):n.parent!==null&&(e=k(n.parent,t)),e}function Xe(n,t,e,i,r,o,a,u){u===void 0&&(u=!1);var l=new Wt(t),s=Ke(e,i,r,"",o,a);try{return Ut(n,u,r,l,null,s),l}catch(c){throw Bt(c)&&Ft(l.plan.rootRequest),c}}function Je(n,t,e,i){var r=new tt(H.Variable,"",t,new M(e,i)),o=new Wt(n),a=new dt(t,o,null,[],r);return a}function _(n){var t=typeof n=="object"&&n!==null||typeof n=="function";return t&&typeof n.then=="function"}function Vt(n){return _(n)?!0:Array.isArray(n)&&n.some(_)}var qe=function(n,t,e,i){function r(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function u(c){try{s(i.next(c))}catch(f){a(f)}}function l(c){try{s(i.throw(c))}catch(f){a(f)}}function s(c){c.done?o(c.value):r(c.value).then(u,l)}s((i=i.apply(n,t||[])).next())})},Qe=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(s){return function(c){return l([s,c])}}function l(s){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=s[0]&2?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return e.label++,{value:s[1],done:!1};case 5:e.label++,r=s[1],s=[0];continue;case 7:s=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){e=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){e.label=s[1];break}if(s[0]===6&&e.label<o[1]){e.label=o[1],o=s;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(s);break}o[2]&&e.ops.pop(),e.trys.pop();continue}s=t.call(n,e)}catch(c){s=[6,c],r=0}finally{i=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Ze=function(n,t){return t.scope===g.Singleton&&t.activated?t.cache:t.scope===g.Request&&n.has(t.id)?n.get(t.id):null},tn=function(n,t,e){t.scope===g.Singleton&&nn(t,e),t.scope===g.Request&&en(n,t,e)},en=function(n,t,e){n.has(t.id)||n.set(t.id,e)},nn=function(n,t){n.cache=t,n.activated=!0,_(t)&&rn(n,t)},rn=function(n,t){return qe(void 0,void 0,void 0,function(){var e,i;return Qe(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t];case 1:return e=r.sent(),n.cache=e,[3,3];case 2:throw i=r.sent(),n.cache=null,n.activated=!1,i;case 3:return[2]}})})},F;(function(n){n.DynamicValue="toDynamicValue",n.Factory="toFactory",n.Provider="toProvider"})(F||(F={}));var on=function(n){var t=null;switch(n.type){case v.ConstantValue:case v.Function:t=n.cache;break;case v.Constructor:case v.Instance:t=n.implementationType;break;case v.DynamicValue:t=n.dynamicValue;break;case v.Provider:t=n.provider;break;case v.Factory:t=n.factory;break}if(t===null){var e=j(n.serviceIdentifier);throw new Error(me+" "+e)}},an=function(n){switch(n.type){case v.Factory:return{factory:n.factory,factoryType:F.Factory};case v.Provider:return{factory:n.provider,factoryType:F.Provider};case v.DynamicValue:return{factory:n.dynamicValue,factoryType:F.DynamicValue};default:throw new Error("Unexpected factory type "+n.type)}},x=function(){return x=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},x.apply(this,arguments)},$t=function(n,t,e,i){function r(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function u(c){try{s(i.next(c))}catch(f){a(f)}}function l(c){try{s(i.throw(c))}catch(f){a(f)}}function s(c){c.done?o(c.value):r(c.value).then(u,l)}s((i=i.apply(n,t||[])).next())})},Yt=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(s){return function(c){return l([s,c])}}function l(s){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=s[0]&2?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return e.label++,{value:s[1],done:!1};case 5:e.label++,r=s[1],s=[0];continue;case 7:s=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){e=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){e.label=s[1];break}if(s[0]===6&&e.label<o[1]){e.label=o[1],o=s;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(s);break}o[2]&&e.ops.pop(),e.trys.pop();continue}s=t.call(n,e)}catch(c){s=[6,c],r=0}finally{i=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},sn=function(n,t,e){if(e||arguments.length===2)for(var i=0,r=t.length,o;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))};function un(n,t){return n.reduce(function(e,i){var r=t(i),o=i.target.type;return o===H.ConstructorArgument?e.constructorInjections.push(r):(e.propertyRequests.push(i),e.propertyInjections.push(r)),e.isAsync||(e.isAsync=Vt(r)),e},{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}function cn(n,t,e){var i;if(t.length>0){var r=un(t,e),o=x(x({},r),{constr:n});r.isAsync?i=ln(o):i=Kt(o)}else i=new n;return i}function Kt(n){var t,e=new((t=n.constr).bind.apply(t,sn([void 0],n.constructorInjections,!1)));return n.propertyRequests.forEach(function(i,r){var o=i.target.identifier,a=n.propertyInjections[r];(!i.target.isOptional()||a!==void 0)&&(e[o]=a)}),e}function ln(n){return $t(this,void 0,void 0,function(){var t,e;return Yt(this,function(i){switch(i.label){case 0:return[4,bt(n.constructorInjections)];case 1:return t=i.sent(),[4,bt(n.propertyInjections)];case 2:return e=i.sent(),[2,Kt(x(x({},n),{constructorInjections:t,propertyInjections:e}))]}})})}function bt(n){return $t(this,void 0,void 0,function(){var t,e,i,r;return Yt(this,function(o){for(t=[],e=0,i=n;e<i.length;e++)r=i[e],Array.isArray(r)?t.push(Promise.all(r)):t.push(r);return[2,Promise.all(t)]})})}function Tt(n,t){var e=hn(n,t);return _(e)?e.then(function(){return t}):t}function hn(n,t){var e,i;if(Reflect.hasMetadata(gt,n)){var r=Reflect.getMetadata(gt,n);try{return(i=(e=t)[r.value])===null||i===void 0?void 0:i.call(e)}catch(o){if(o instanceof Error)throw new Error(Ne(n.name,o.message))}}}function fn(n,t){n.scope!==g.Singleton&&dn(n,t)}function dn(n,t){var e="Class cannot be instantiated in "+(n.scope===g.Request?"request":"transient")+" scope.";if(typeof n.onDeactivation=="function")throw new Error(at(t.name,e));if(Reflect.hasMetadata(ot,t))throw new Error(Me(t.name,e))}function pn(n,t,e,i){fn(n,t);var r=cn(t,e,i);return _(r)?r.then(function(o){return Tt(t,o)}):Tt(t,r)}var vn=function(n,t,e,i){function r(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function u(c){try{s(i.next(c))}catch(f){a(f)}}function l(c){try{s(i.throw(c))}catch(f){a(f)}}function s(c){c.done?o(c.value):r(c.value).then(u,l)}s((i=i.apply(n,t||[])).next())})},gn=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(s){return function(c){return l([s,c])}}function l(s){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=s[0]&2?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return e.label++,{value:s[1],done:!1};case 5:e.label++,r=s[1],s=[0];continue;case 7:s=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){e=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){e.label=s[1];break}if(s[0]===6&&e.label<o[1]){e.label=o[1],o=s;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(s);break}o[2]&&e.ops.pop(),e.trys.pop();continue}s=t.call(n,e)}catch(c){s=[6,c],r=0}finally{i=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},pt=function(n){return function(t){t.parentContext.setCurrentRequest(t);var e=t.bindings,i=t.childRequests,r=t.target&&t.target.isArray(),o=!t.parentRequest||!t.parentRequest.target||!t.target||!t.parentRequest.target.matchesArray(t.target.serviceIdentifier);if(r&&o)return i.map(function(u){var l=pt(n);return l(u)});if(t.target.isOptional()&&e.length===0)return;var a=e[0];return wn(n,t,a)}},yn=function(n,t){var e=an(n);return Le(function(){return e.factory.bind(n)(t)},function(){return new Error(xe(e.factoryType,t.currentRequest.serviceIdentifier.toString()))})},_n=function(n,t,e){var i,r=t.childRequests;switch(on(e),e.type){case v.ConstantValue:case v.Function:i=e.cache;break;case v.Constructor:i=e.implementationType;break;case v.Instance:i=pn(e,e.implementationType,r,pt(n));break;default:i=yn(e,t.parentContext)}return i},mn=function(n,t,e){var i=Ze(n,t);return i!==null||(i=e(),tn(n,t,i)),i},wn=function(n,t,e){return mn(n,e,function(){var i=_n(n,t,e);return _(i)?i=i.then(function(r){return At(t,e,r)}):i=At(t,e,i),i})};function At(n,t,e){var i=bn(n.parentContext,t,e),r=En(n.parentContext.container),o,a=r.next();do{o=a.value;var u=n.parentContext,l=n.serviceIdentifier,s=An(o,l);_(i)?i=zt(s,u,i):i=Tn(s,u,i),a=r.next()}while(a.done!==!0&&!K(o).hasKey(n.serviceIdentifier));return i}var bn=function(n,t,e){var i;return typeof t.onActivation=="function"?i=t.onActivation(n,e):i=e,i},Tn=function(n,t,e){for(var i=n.next();!i.done;){if(e=i.value(t,e),_(e))return zt(n,t,e);i=n.next()}return e},zt=function(n,t,e){return vn(void 0,void 0,void 0,function(){var i,r;return gn(this,function(o){switch(o.label){case 0:return[4,e];case 1:i=o.sent(),r=n.next(),o.label=2;case 2:return r.done?[3,4]:[4,r.value(t,i)];case 3:return i=o.sent(),r=n.next(),[3,2];case 4:return[2,i]}})})},An=function(n,t){var e=n._activations;return e.hasKey(t)?e.get(t).values():[].values()},En=function(n){for(var t=[n],e=n.parent;e!==null;)t.push(e),e=e.parent;var i=function(){var o=t.pop();return o!==void 0?{done:!1,value:o}:{done:!0,value:void 0}},r={next:i};return r};function Sn(n){var t=pt(n.plan.rootRequest.requestScope);return t(n.plan.rootRequest)}var E=function(n,t){var e=n.parentRequest;return e!==null?t(e)?!0:E(e,t):!1},L=function(n){return function(t){var e=function(i){return i!==null&&i.target!==null&&i.target.matchesTag(n)(t)};return e.metaData=new M(n,t),e}},V=L(b),nt=function(n){return function(t){var e=null;if(t!==null)if(e=t.bindings[0],typeof n=="string"){var i=e.serviceIdentifier;return i===n}else{var r=t.bindings[0].implementationType;return n===r}return!1}},z=function(){function n(t){this._binding=t}return n.prototype.when=function(t){return this._binding.constraint=t,new y(this._binding)},n.prototype.whenTargetNamed=function(t){return this._binding.constraint=V(t),new y(this._binding)},n.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){if(t===null)return!1;var e=t.target!==null&&!t.target.isNamed()&&!t.target.isTagged();return e},new y(this._binding)},n.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=L(t)(e),new y(this._binding)},n.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return e!==null&&nt(t)(e.parentRequest)},new y(this._binding)},n.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return e!==null&&V(t)(e.parentRequest)},new y(this._binding)},n.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(i){return i!==null&&L(t)(e)(i.parentRequest)},new y(this._binding)},n.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return e!==null&&E(e,nt(t))},new y(this._binding)},n.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return e!==null&&!E(e,nt(t))},new y(this._binding)},n.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return e!==null&&E(e,V(t))},new y(this._binding)},n.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return e!==null&&!E(e,V(t))},new y(this._binding)},n.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(i){return i!==null&&E(i,L(t)(e))},new y(this._binding)},n.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(i){return i!==null&&!E(i,L(t)(e))},new y(this._binding)},n.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return e!==null&&E(e,t)},new y(this._binding)},n.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return e!==null&&!E(e,t)},new y(this._binding)},n}(),y=function(){function n(t){this._binding=t}return n.prototype.onActivation=function(t){return this._binding.onActivation=t,new z(this._binding)},n.prototype.onDeactivation=function(t){return this._binding.onDeactivation=t,new z(this._binding)},n}(),O=function(){function n(t){this._binding=t,this._bindingWhenSyntax=new z(this._binding),this._bindingOnSyntax=new y(this._binding)}return n.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},n.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},n.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},n.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},n.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},n.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},n.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},n.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},n.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},n.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},n.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},n.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},n.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},n.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},n.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},n.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},n.prototype.onDeactivation=function(t){return this._bindingOnSyntax.onDeactivation(t)},n}(),On=function(){function n(t){this._binding=t}return n.prototype.inRequestScope=function(){return this._binding.scope=g.Request,new O(this._binding)},n.prototype.inSingletonScope=function(){return this._binding.scope=g.Singleton,new O(this._binding)},n.prototype.inTransientScope=function(){return this._binding.scope=g.Transient,new O(this._binding)},n}(),Et=function(){function n(t){this._binding=t,this._bindingWhenSyntax=new z(this._binding),this._bindingOnSyntax=new y(this._binding),this._bindingInSyntax=new On(t)}return n.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},n.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},n.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},n.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},n.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},n.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},n.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},n.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},n.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},n.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},n.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},n.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},n.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},n.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},n.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},n.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},n.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},n.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},n.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},n.prototype.onDeactivation=function(t){return this._bindingOnSyntax.onDeactivation(t)},n}(),Dn=function(){function n(t){this._binding=t}return n.prototype.to=function(t){return this._binding.type=v.Instance,this._binding.implementationType=t,new Et(this._binding)},n.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+Ee);var t=this._binding.serviceIdentifier;return this.to(t)},n.prototype.toConstantValue=function(t){return this._binding.type=v.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=g.Singleton,new O(this._binding)},n.prototype.toDynamicValue=function(t){return this._binding.type=v.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new Et(this._binding)},n.prototype.toConstructor=function(t){return this._binding.type=v.Constructor,this._binding.implementationType=t,this._binding.scope=g.Singleton,new O(this._binding)},n.prototype.toFactory=function(t){return this._binding.type=v.Factory,this._binding.factory=t,this._binding.scope=g.Singleton,new O(this._binding)},n.prototype.toFunction=function(t){if(typeof t!="function")throw new Error(Te);var e=this.toConstantValue(t);return this._binding.type=v.Function,this._binding.scope=g.Singleton,e},n.prototype.toAutoFactory=function(t){return this._binding.type=v.Factory,this._binding.factory=function(e){var i=function(){return e.container.get(t)};return i},this._binding.scope=g.Singleton,new O(this._binding)},n.prototype.toAutoNamedFactory=function(t){return this._binding.type=v.Factory,this._binding.factory=function(e){return function(i){return e.container.getNamed(t,i)}},new O(this._binding)},n.prototype.toProvider=function(t){return this._binding.type=v.Provider,this._binding.provider=t,this._binding.scope=g.Singleton,new O(this._binding)},n.prototype.toService=function(t){this.toDynamicValue(function(e){return e.container.get(t)})},n}(),In=function(){function n(){}return n.of=function(t,e,i,r,o){var a=new n;return a.bindings=t,a.middleware=e,a.deactivations=r,a.activations=i,a.moduleActivationStore=o,a},n}();function Cn(n){return typeof n=="object"&&n!==null&&"clone"in n&&typeof n.clone=="function"}var C=function(){function n(){this._map=new Map}return n.prototype.getMap=function(){return this._map},n.prototype.add=function(t,e){if(t==null)throw new Error(B);if(e==null)throw new Error(B);var i=this._map.get(t);i!==void 0?i.push(e):this._map.set(t,[e])},n.prototype.get=function(t){if(t==null)throw new Error(B);var e=this._map.get(t);if(e!==void 0)return e;throw new Error(_t)},n.prototype.remove=function(t){if(t==null)throw new Error(B);if(!this._map.delete(t))throw new Error(_t)},n.prototype.removeIntersection=function(t){var e=this;this.traverse(function(i,r){var o=t.hasKey(i)?t.get(i):void 0;if(o!==void 0){var a=r.filter(function(u){return!o.some(function(l){return u===l})});e._setValue(i,a)}})},n.prototype.removeByCondition=function(t){var e=this,i=[];return this._map.forEach(function(r,o){for(var a=[],u=0,l=r;u<l.length;u++){var s=l[u],c=t(s);c?i.push(s):a.push(s)}e._setValue(o,a)}),i},n.prototype.hasKey=function(t){if(t==null)throw new Error(B);return this._map.has(t)},n.prototype.clone=function(){var t=new n;return this._map.forEach(function(e,i){e.forEach(function(r){return t.add(i,Cn(r)?r.clone():r)})}),t},n.prototype.traverse=function(t){this._map.forEach(function(e,i){t(i,e)})},n.prototype._setValue=function(t,e){e.length>0?this._map.set(t,e):this._map.delete(t)},n}(),Rn=function(){function n(){this._map=new Map}return n.prototype.remove=function(t){if(this._map.has(t)){var e=this._map.get(t);return this._map.delete(t),e}return this._getEmptyHandlersStore()},n.prototype.addDeactivation=function(t,e,i){this._getModuleActivationHandlers(t).onDeactivations.add(e,i)},n.prototype.addActivation=function(t,e,i){this._getModuleActivationHandlers(t).onActivations.add(e,i)},n.prototype.clone=function(){var t=new n;return this._map.forEach(function(e,i){t._map.set(i,{onActivations:e.onActivations.clone(),onDeactivations:e.onDeactivations.clone()})}),t},n.prototype._getModuleActivationHandlers=function(t){var e=this._map.get(t);return e===void 0&&(e=this._getEmptyHandlersStore(),this._map.set(t,e)),e},n.prototype._getEmptyHandlersStore=function(){var t={onActivations:new C,onDeactivations:new C};return t},n}(),X=function(){return X=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},X.apply(this,arguments)},m=function(n,t,e,i){function r(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function u(c){try{s(i.next(c))}catch(f){a(f)}}function l(c){try{s(i.throw(c))}catch(f){a(f)}}function s(c){c.done?o(c.value):r(c.value).then(u,l)}s((i=i.apply(n,t||[])).next())})},w=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(s){return function(c){return l([s,c])}}function l(s){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=s[0]&2?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return e.label++,{value:s[1],done:!1};case 5:e.label++,r=s[1],s=[0];continue;case 7:s=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){e=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){e.label=s[1];break}if(s[0]===6&&e.label<o[1]){e.label=o[1],o=s;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(s);break}o[2]&&e.ops.pop(),e.trys.pop();continue}s=t.call(n,e)}catch(c){s=[6,c],r=0}finally{i=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Nn=function(n,t,e){if(e||arguments.length===2)for(var i=0,r=t.length,o;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},Mn=function(){function n(t){var e=t||{};if(typeof e!="object")throw new Error(""+Oe);if(e.defaultScope===void 0)e.defaultScope=g.Transient;else if(e.defaultScope!==g.Singleton&&e.defaultScope!==g.Transient&&e.defaultScope!==g.Request)throw new Error(""+De);if(e.autoBindInjectable===void 0)e.autoBindInjectable=!1;else if(typeof e.autoBindInjectable!="boolean")throw new Error(""+Ie);if(e.skipBaseClassChecks===void 0)e.skipBaseClassChecks=!1;else if(typeof e.skipBaseClassChecks!="boolean")throw new Error(""+Ce);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.id=G(),this._bindingDictionary=new C,this._snapshots=[],this._middleware=null,this._activations=new C,this._deactivations=new C,this.parent=null,this._metadataReader=new Be,this._moduleActivationStore=new Rn}return n.merge=function(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var o=new n,a=Nn([t,e],i,!0).map(function(s){return K(s)}),u=K(o);function l(s,c){s.traverse(function(f,d){d.forEach(function(T){c.add(T.serviceIdentifier,T.clone())})})}return a.forEach(function(s){l(s,u)}),o},n.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=this._getContainerModuleHelpersFactory(),r=0,o=t;r<o.length;r++){var a=o[r],u=i(a.id);a.registry(u.bindFunction,u.unbindFunction,u.isboundFunction,u.rebindFunction,u.unbindAsyncFunction,u.onActivationFunction,u.onDeactivationFunction)}},n.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return m(this,void 0,void 0,function(){var i,r,o,a,u;return w(this,function(l){switch(l.label){case 0:i=this._getContainerModuleHelpersFactory(),r=0,o=t,l.label=1;case 1:return r<o.length?(a=o[r],u=i(a.id),[4,a.registry(u.bindFunction,u.unbindFunction,u.isboundFunction,u.rebindFunction,u.unbindAsyncFunction,u.onActivationFunction,u.onDeactivationFunction)]):[3,4];case 2:l.sent(),l.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},n.prototype.unload=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];e.forEach(function(r){var o=t._removeModuleBindings(r.id);t._deactivateSingletons(o),t._removeModuleHandlers(r.id)})},n.prototype.unloadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return m(this,void 0,void 0,function(){var i,r,o,a;return w(this,function(u){switch(u.label){case 0:i=0,r=t,u.label=1;case 1:return i<r.length?(o=r[i],a=this._removeModuleBindings(o.id),[4,this._deactivateSingletonsAsync(a)]):[3,4];case 2:u.sent(),this._removeModuleHandlers(o.id),u.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},n.prototype.bind=function(t){var e=this.options.defaultScope||g.Transient,i=new he(t,e);return this._bindingDictionary.add(t,i),new Dn(i)},n.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},n.prototype.rebindAsync=function(t){return m(this,void 0,void 0,function(){return w(this,function(e){switch(e.label){case 0:return[4,this.unbindAsync(t)];case 1:return e.sent(),[2,this.bind(t)]}})})},n.prototype.unbind=function(t){if(this._bindingDictionary.hasKey(t)){var e=this._bindingDictionary.get(t);this._deactivateSingletons(e)}this._removeServiceFromDictionary(t)},n.prototype.unbindAsync=function(t){return m(this,void 0,void 0,function(){var e;return w(this,function(i){switch(i.label){case 0:return this._bindingDictionary.hasKey(t)?(e=this._bindingDictionary.get(t),[4,this._deactivateSingletonsAsync(e)]):[3,2];case 1:i.sent(),i.label=2;case 2:return this._removeServiceFromDictionary(t),[2]}})})},n.prototype.unbindAll=function(){var t=this;this._bindingDictionary.traverse(function(e,i){t._deactivateSingletons(i)}),this._bindingDictionary=new C},n.prototype.unbindAllAsync=function(){return m(this,void 0,void 0,function(){var t,e=this;return w(this,function(i){switch(i.label){case 0:return t=[],this._bindingDictionary.traverse(function(r,o){t.push(e._deactivateSingletonsAsync(o))}),[4,Promise.all(t)];case 1:return i.sent(),this._bindingDictionary=new C,[2]}})})},n.prototype.onActivation=function(t,e){this._activations.add(t,e)},n.prototype.onDeactivation=function(t,e){this._deactivations.add(t,e)},n.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},n.prototype.isCurrentBound=function(t){return this._bindingDictionary.hasKey(t)},n.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,b,e)},n.prototype.isBoundTagged=function(t,e,i){var r=!1;if(this._bindingDictionary.hasKey(t)){var o=this._bindingDictionary.get(t),a=Je(this,t,e,i);r=o.some(function(u){return u.constraint(a)})}return!r&&this.parent&&(r=this.parent.isBoundTagged(t,e,i)),r},n.prototype.snapshot=function(){this._snapshots.push(In.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},n.prototype.restore=function(){var t=this._snapshots.pop();if(t===void 0)throw new Error(we);this._bindingDictionary=t.bindings,this._activations=t.activations,this._deactivations=t.deactivations,this._middleware=t.middleware,this._moduleActivationStore=t.moduleActivationStore},n.prototype.createChild=function(t){var e=new n(t||this.options);return e.parent=this,e},n.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce(function(r,o){return o(r)},i)},n.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},n.prototype.get=function(t){var e=this._getNotAllArgs(t,!1);return this._getButThrowIfAsync(e)},n.prototype.getAsync=function(t){return m(this,void 0,void 0,function(){var e;return w(this,function(i){return e=this._getNotAllArgs(t,!1),[2,this._get(e)]})})},n.prototype.getTagged=function(t,e,i){var r=this._getNotAllArgs(t,!1,e,i);return this._getButThrowIfAsync(r)},n.prototype.getTaggedAsync=function(t,e,i){return m(this,void 0,void 0,function(){var r;return w(this,function(o){return r=this._getNotAllArgs(t,!1,e,i),[2,this._get(r)]})})},n.prototype.getNamed=function(t,e){return this.getTagged(t,b,e)},n.prototype.getNamedAsync=function(t,e){return this.getTaggedAsync(t,b,e)},n.prototype.getAll=function(t){var e=this._getAllArgs(t);return this._getButThrowIfAsync(e)},n.prototype.getAllAsync=function(t){var e=this._getAllArgs(t);return this._getAll(e)},n.prototype.getAllTagged=function(t,e,i){var r=this._getNotAllArgs(t,!0,e,i);return this._getButThrowIfAsync(r)},n.prototype.getAllTaggedAsync=function(t,e,i){var r=this._getNotAllArgs(t,!0,e,i);return this._getAll(r)},n.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,b,e)},n.prototype.getAllNamedAsync=function(t,e){return this.getAllTaggedAsync(t,b,e)},n.prototype.resolve=function(t){var e=this.isBound(t);e||this.bind(t).toSelf();var i=this.get(t);return e||this.unbind(t),i},n.prototype._preDestroy=function(t,e){var i,r;if(Reflect.hasMetadata(ot,t)){var o=Reflect.getMetadata(ot,t);return(r=(i=e)[o.value])===null||r===void 0?void 0:r.call(i)}},n.prototype._removeModuleHandlers=function(t){var e=this._moduleActivationStore.remove(t);this._activations.removeIntersection(e.onActivations),this._deactivations.removeIntersection(e.onDeactivations)},n.prototype._removeModuleBindings=function(t){return this._bindingDictionary.removeByCondition(function(e){return e.moduleId===t})},n.prototype._deactivate=function(t,e){var i=this,r=Object.getPrototypeOf(e).constructor;try{if(this._deactivations.hasKey(t.serviceIdentifier)){var o=this._deactivateContainer(e,this._deactivations.get(t.serviceIdentifier).values());if(_(o))return this._handleDeactivationError(o.then(function(){return i._propagateContainerDeactivationThenBindingAndPreDestroyAsync(t,e,r)}),r)}var a=this._propagateContainerDeactivationThenBindingAndPreDestroy(t,e,r);if(_(a))return this._handleDeactivationError(a,r)}catch(u){if(u instanceof Error)throw new Error(at(r.name,u.message))}},n.prototype._handleDeactivationError=function(t,e){return m(this,void 0,void 0,function(){var i;return w(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t];case 1:return r.sent(),[3,3];case 2:if(i=r.sent(),i instanceof Error)throw new Error(at(e.name,i.message));return[3,3];case 3:return[2]}})})},n.prototype._deactivateContainer=function(t,e){for(var i=this,r=e.next();r.value;){var o=r.value(t);if(_(o))return o.then(function(){return i._deactivateContainerAsync(t,e)});r=e.next()}},n.prototype._deactivateContainerAsync=function(t,e){return m(this,void 0,void 0,function(){var i;return w(this,function(r){switch(r.label){case 0:i=e.next(),r.label=1;case 1:return i.value?[4,i.value(t)]:[3,3];case 2:return r.sent(),i=e.next(),[3,1];case 3:return[2]}})})},n.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(c,f){c._binding.moduleId=f},i=function(c){return function(f){var d=t.bind(f);return e(d,c),d}},r=function(){return function(c){return t.unbind(c)}},o=function(){return function(c){return t.unbindAsync(c)}},a=function(){return function(c){return t.isBound(c)}},u=function(c){return function(f){var d=t.rebind(f);return e(d,c),d}},l=function(c){return function(f,d){t._moduleActivationStore.addActivation(c,f,d),t.onActivation(f,d)}},s=function(c){return function(f,d){t._moduleActivationStore.addDeactivation(c,f,d),t.onDeactivation(f,d)}};return function(c){return{bindFunction:i(c),isboundFunction:a(),onActivationFunction:l(c),onDeactivationFunction:s(c),rebindFunction:u(c),unbindFunction:r(),unbindAsyncFunction:o()}}},n.prototype._getAll=function(t){return Promise.all(this._get(t))},n.prototype._get=function(t){var e=X(X({},t),{contextInterceptor:function(r){return r},targetType:H.Variable});if(this._middleware){var i=this._middleware(e);if(i==null)throw new Error(be);return i}return this._planAndResolve()(e)},n.prototype._getButThrowIfAsync=function(t){var e=this._get(t);if(Vt(e))throw new Error(Ae(t.serviceIdentifier));return e},n.prototype._getAllArgs=function(t){var e={avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:t};return e},n.prototype._getNotAllArgs=function(t,e,i,r){var o={avoidConstraints:!1,isMultiInject:e,serviceIdentifier:t,key:i,value:r};return o},n.prototype._planAndResolve=function(){var t=this;return function(e){var i=Xe(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);i=e.contextInterceptor(i);var r=Sn(i);return r}},n.prototype._deactivateIfSingleton=function(t){var e=this;if(t.activated)return _(t.cache)?t.cache.then(function(i){return e._deactivate(t,i)}):this._deactivate(t,t.cache)},n.prototype._deactivateSingletons=function(t){for(var e=0,i=t;e<i.length;e++){var r=i[e],o=this._deactivateIfSingleton(r);if(_(o))throw new Error(Re)}},n.prototype._deactivateSingletonsAsync=function(t){return m(this,void 0,void 0,function(){var e=this;return w(this,function(i){switch(i.label){case 0:return[4,Promise.all(t.map(function(r){return e._deactivateIfSingleton(r)}))];case 1:return i.sent(),[2]}})})},n.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(t,e,i){return this.parent?this._deactivate.bind(this.parent)(t,e):this._bindingDeactivationAndPreDestroy(t,e,i)},n.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(t,e,i){return m(this,void 0,void 0,function(){return w(this,function(r){switch(r.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(t,e)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(t,e,i)];case 3:r.sent(),r.label=4;case 4:return[2]}})})},n.prototype._removeServiceFromDictionary=function(t){try{this._bindingDictionary.remove(t)}catch{throw new Error(pe+" "+j(t))}},n.prototype._bindingDeactivationAndPreDestroy=function(t,e,i){var r=this;if(typeof t.onDeactivation=="function"){var o=t.onDeactivation(e);if(_(o))return o.then(function(){return r._preDestroy(i,e)})}return this._preDestroy(i,e)},n.prototype._bindingDeactivationAndPreDestroyAsync=function(t,e,i){return m(this,void 0,void 0,function(){return w(this,function(r){switch(r.label){case 0:return typeof t.onDeactivation!="function"?[3,2]:[4,t.onDeactivation(e)];case 1:r.sent(),r.label=2;case 2:return[4,this._preDestroy(i,e)];case 3:return r.sent(),[2]}})})},n}();function xn(n){for(var t=new Set,e=0,i=n;e<i.length;e++){var r=i[e];if(t.has(r))return r;t.add(r)}}function Pn(n){return n.prototype!==void 0}function Bn(n){if(n!==void 0)throw new Error(Pt)}function Ln(n,t,e,i){Bn(t),Xt(Rt,n,e.toString(),i)}function Fn(n,t,e){if(Pn(n))throw new Error(Pt);Xt(Nt,n.constructor,t,e)}function Wn(n){var t=[];if(Array.isArray(n)){t=n;var e=xn(t.map(function(i){return i.key}));if(e!==void 0)throw new Error(Mt+" "+e.toString())}else t=[n];return t}function Xt(n,t,e,i){var r=Wn(i),o={};Reflect.hasOwnMetadata(n,t)&&(o=Reflect.getMetadata(n,t));var a=o[e];if(a===void 0)a=[];else for(var u=function(f){if(r.some(function(d){return d.key===f.key}))throw new Error(Mt+" "+f.key.toString())},l=0,s=a;l<s.length;l++){var c=s[l];u(c)}a.push.apply(a,r),o[e]=a,Reflect.defineMetadata(n,o,t)}function jn(n){return function(t,e,i){typeof i=="number"?Ln(t,e,i,n):Fn(t,e,n)}}function U(){return function(n){if(Reflect.hasOwnMetadata(rt,n))throw new Error(fe);var t=Reflect.getMetadata(ue,n)||[];return Reflect.defineMetadata(rt,t,n),n}}function kn(n){return function(t){return function(e,i,r){if(t===void 0){var o=typeof e=="function"?e.name:e.constructor.name;throw new Error(ye(o))}return jn(new M(n,t))(e,i,r)}}}var J=kn(Q);const Hn=navigator.userAgent,it=Hn.indexOf("AppleWebKit")>=0;function Gn(n){return n&&typeof n=="object"&&typeof n[Symbol.iterator]=="function"}function Un(n){if(Gn(n)){const t=[];for(const e of n)if(e)try{e.dispose()}catch(i){t.push(i)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}class Jt{constructor(){p(this,"_toDispose",new Set);p(this,"_isDisposed",!1)}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{Un(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&this._toDispose.delete(t)}}p(Jt,"DISABLE_DISPOSED_WARNING",!1);class qt{constructor(){p(this,"_store",new Jt)}dispose(){this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}}const R={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:it?"webkitAnimationStart":"animationstart",ANIMATION_END:it?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:it?"webkitAnimationIteration":"animationiteration"};class Vn{constructor(t,e,i,r){p(this,"_handler");p(this,"_node");p(this,"_type");p(this,"_options");this._node=t,this._type=e,this._handler=i,this._options=r||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function N(n,t,e,i){return new Vn(n,t,e,i)}class et extends qt{constructor(){super();p(this,"_element");this._element=document.createElement("div")}get element(){return this._element}dispose(){super.dispose(),this._element.remove()}}var $n=Object.defineProperty,Yn=Object.getOwnPropertyDescriptor,Kn=(n,t,e,i)=>{for(var r=i>1?void 0:i?Yn(t,e):t,o=n.length-1,a;o>=0;o--)(a=n[o])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&$n(t,e,r),r},S=(n=>(n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n))(S||{});let st=class extends qt{constructor(){super();p(this,"behaviorMap",new Map);p(this,"dragElement");p(this,"mouseMotionVector");p(this,"lastMouseX",0);p(this,"lastMouseY",0);this._register(N(document,R.POINTER_UP,t=>{t.preventDefault(),this._onDragEnd(t)})),this._register(N(document,R.POINTER_LEAVE,t=>{t.preventDefault(),this._onDragEnd(t)})),this._register(N(document,R.POINTER_MOVE,t=>{t.preventDefault(),this._onDragging(t)})),this._register(N(window,R.RESIZE,t=>{t.preventDefault(),this._onWindowResize(t)}))}initialize(t,e){this.behaviorMap.set(t,e)}get dragContext(){return{mouseMotionVector:this.mouseMotionVector}}_onDragEnd(t){var e;this.dragElement&&(this.lastMouseX=0,this.lastMouseY=0,(e=this.behaviorMap.get(this.dragElement))==null||e.onDragEnd(t,this.dragElement),this.dragElement=void 0,this.mouseMotionVector=void 0)}_onDragging(t){if(this.dragElement){(!this.lastMouseX||!this.lastMouseY)&&(this.lastMouseX=t.clientX,this.lastMouseY=t.clientY),this.mouseMotionVector=this.calculateMouseElementRelativeDirection(t.clientX-this.lastMouseX,t.clientY-this.lastMouseY),this.lastMouseX=t.clientX,this.lastMouseY=t.clientY;const e=this.behaviorMap.get(this.dragElement);e==null||e.onDragging(t,this.dragElement)}}_onWindowResize(t){for(const[e,i]of this.behaviorMap.entries())i.onWindowResize(t,e)}calculateMouseElementRelativeDirection(t,e){const i=this.calculateAngle(t,-e);return i>=45&&i<=135?"UP":i>=-135&&i<=-45?"DOWN":i>-45&&i<45?"RIGHT":"LEFT"}calculateAngle(t,e){return Math.atan2(e,t)*180/Math.PI}startDrag(t){this.dragElement=t}calculateMouseElementRelativeCoordinates(t,e){const i={x:e.offsetLeft+e.clientWidth/2,y:e.offsetTop+e.clientHeight/2};return{x:t.clientX-i.x,y:t.clientY-i.y}}};st=Kn([U()],st);const D={DraggableService:Symbol.for("DraggableService"),Panel:Symbol.for("Panel"),Frame:Symbol.for("Frame"),FrameContent:Symbol.for("FrameContent"),Workbench:Symbol.for("Workbench")};var h=(n=>(n.TOP_LEFT="TOP_LEFT",n.TOP="TOP",n.TOP_RIGHT="TOP_RIGHT",n.RIGHT_TOP="RIGHT_TOP",n.RIGHT="RIGHT",n.RIGHT_BOTTOM="RIGHT_BOTTOM",n.BOTTOM_RIGHT="BOTTOM_RIGHT",n.BOTTOM="BOTTOM",n.BOTTOM_LEFT="BOTTOM_LEFT",n.LEFT_BOTTOM="LEFT_BOTTOM",n.LEFT="LEFT",n.LEFT_TOP="LEFT_TOP",n.UNKNOWN="UNKNOWN",n))(h||{});const zn="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1711099099312'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='26629'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M727.585%20569L942%20739.175v198.377c0%2016.955-19.51%2026.51-32.938%2016.159L572%20694.085%20727.585%20569zM942%2086.473v205.21l-430.017%20344.03-225.65-180.546v368.56l-171.561%20130.09C101.324%20964.01%2082%20954.416%2082%20937.553V86.473c0-17.128%2019.79-26.655%2033.203-15.967l396.78%20317.475L908.797%2070.506C922.177%2059.818%20942%2069.345%20942%2086.473z'%20p-id='26630'%20fill='%2300DC82'%3e%3c/path%3e%3c/svg%3e";var Xn=Object.defineProperty,Jn=Object.getOwnPropertyDescriptor,qn=(n,t,e,i)=>{for(var r=i>1?void 0:i?Jn(t,e):t,o=n.length-1,a;o>=0;o--)(a=n[o])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&Xn(t,e,r),r},Qn=(n,t)=>(e,i)=>t(e,i,n);let ut=class extends et{constructor(t){super();p(this,"_options");p(this,"offsetX",0);p(this,"offsetY",0);p(this,"_panelPosition");p(this,"_panelElement");p(this,"_glowingElement");p(this,"_openInspector",!1);this._draggableService=t}initialize(t){this._options=Object.assign({initialPosition:h.BOTTOM,panelSize:30},t);const{initialPosition:e,panelSize:i}=this._options,r=this._element;r.classList.add("devtool-anchor");const o=document.createElement("div");o.classList.add("devtool-panel"),o.style.width=`${i}px`,o.style.height=`${i}px`,o.tabIndex=0,o.setAttribute("role","button");const a=document.createElement("img");a.src=zn,o.appendChild(a);const u=document.createElement("div");u.classList.add("devtool-panel-glowing"),u.style.width=`${i*5}px`,u.style.height=`${i*5}px`,u.style.transform="translate(-50%, -50%)",r.appendChild(u),r.appendChild(o);const l=window.innerWidth,s=window.innerHeight;return e===h.BOTTOM?(r.style.left=`${(l-i)/2}px`,r.style.top=`${s-i}px`):e===h.RIGHT&&(r.style.left=`${l-i}px`,r.style.top=`${(s-i)/2}px`),t.container&&t.container.appendChild(r),this._register(N(r,R.CLICK,c=>{c.preventDefault(),this._options.onClick&&this._options.onClick()})),this._register(N(r,R.CONTEXT_MENU,c=>{c.preventDefault(),this._options.onRightClick&&(this.toggleInspector(),this._options.onRightClick(this._openInspector))})),this._panelElement=o,this._glowingElement=u,this.panelPosition=e,this}get panelPosition(){return this._panelPosition}set panelPosition(t){this._panelPosition=t;const e=this._panelElement,i=this._options.panelSize/6;t.startsWith("TOP")?(e.classList.remove("devtool-panel-vertical"),e.style.transform=`translate(-50%, -${i}px)`,e.style.borderTopLeftRadius="0px",e.style.borderTopRightRadius="0px",e.style.borderBottomLeftRadius="",e.style.borderBottomRightRadius=""):t.startsWith("RIGHT")?(e.classList.add("devtool-panel-vertical"),e.style.transform=`translate(${i}px, -50%) rotate(90deg)`,e.style.borderTopLeftRadius="0px",e.style.borderTopRightRadius="0px",e.style.borderBottomLeftRadius="",e.style.borderBottomRightRadius=""):t.startsWith("BOTTOM")?(e.classList.remove("devtool-panel-vertical"),e.style.transform=`translate(-50%, ${i}px)`,e.style.borderTopLeftRadius="",e.style.borderTopRightRadius="",e.style.borderBottomLeftRadius="0px",e.style.borderBottomRightRadius="0px"):t.startsWith("LEFT")&&(e.classList.add("devtool-panel-vertical"),e.style.transform=`translate(-${i}px, -50%) rotate(90deg)`,e.style.borderTopLeftRadius="",e.style.borderTopRightRadius="",e.style.borderBottomLeftRadius="0px",e.style.borderBottomRightRadius="0px")}toggleInspector(){this._openInspector=!this._openInspector,this._openInspector?this._panelElement.style.filter="saturate(1)":this._panelElement.style.filter=""}makeDraggable(){const t=this._glowingElement;return this._draggableService.initialize(this._element,{onDragEnd:()=>{this.offsetX=0,this.offsetY=0,t.style.opacity=""},onDragging:e=>{this._smartStickToEdge(e),this._options.onDragging&&this._options.onDragging(this._element,this.panelPosition)},onWindowResize:()=>{var u,l;const e=this._options.panelSize,i=Number(this._element.style.left.slice(0,-2)),r=Number(this._element.style.top.slice(0,-2));let o,a;r>window.innerHeight-e&&(a=window.innerHeight-e),i>window.innerWidth-e&&(o=window.innerWidth-e),(u=this.panelPosition)!=null&&u.startsWith("RIGHT")?(o=window.innerWidth-e,r>window.innerHeight-e&&(a=window.innerHeight-e)):(l=this.panelPosition)!=null&&l.startsWith("BOTTOM")&&(a=window.innerHeight-e,i>window.innerWidth-e&&(o=window.innerWidth-e)),this._element.style.left=`${o}px`,this._element.style.top=`${a}px`,this._options.onDragging&&this._options.onDragging(this._element,this.panelPosition)}}),this._register(N(this._element,R.POINTER_DOWN,e=>{e.preventDefault(),this.offsetX=e.clientX-this._element.offsetLeft,this.offsetY=e.clientY-this._element.offsetTop,this._draggableService.startDrag(this._element),t.style.opacity="0.6"})),this}_smartStickToEdge(t){const e=this._options.panelSize,i=this._checkPanelPosition();let r=this._predictNextPanelPosition(t,i);r===h.UNKNOWN?r=i:r.startsWith("TOP")?this._element.style.top="0px":r.startsWith("BOTTOM")?this._element.style.top=`${window.innerHeight-e}px`:r.startsWith("LEFT")?this._element.style.left="0px":r.startsWith("RIGHT")&&(this._element.style.left=`${window.innerWidth-e}px`),r.startsWith("TOP")||r.startsWith("BOTTOM")?this._element.style.left=`${Math.min(window.innerWidth-e,Math.max(0,t.clientX-this.offsetX))}px`:(r.startsWith("LEFT")||r.startsWith("RIGHT"))&&(this._element.style.top=`${Math.min(window.innerHeight-e,Math.max(0,t.clientY-this.offsetY))}px`)}_predictNextPanelPosition(t,e){const i=this._draggableService.calculateMouseElementRelativeCoordinates(t,this._element),r=this._draggableService.calculateMouseElementRelativeDirection(i.x,i.y);if(!(Math.abs(i.x)>window.innerWidth/3||Math.abs(i.y)>window.innerHeight/3))return h.UNKNOWN;const a=this._draggableService.dragContext.mouseMotionVector;if(S.RIGHT===r){if(e===h.LEFT_TOP)return h.TOP_LEFT;if(e===h.LEFT&&a===S.RIGHT)return h.RIGHT;if(e===h.LEFT_BOTTOM)return h.BOTTOM_LEFT}else if(S.LEFT===r){if(e===h.RIGHT_TOP)return h.TOP_RIGHT;if(e===h.RIGHT&&a===S.LEFT)return h.LEFT;if(e===h.RIGHT_BOTTOM)return h.BOTTOM_RIGHT}else if(S.DOWN===r){if(e===h.TOP_LEFT)return h.LEFT_TOP;if(e===h.TOP&&a===S.DOWN)return h.BOTTOM;if(e===h.TOP_RIGHT)return h.RIGHT_TOP}else if(S.UP===r){if(e===h.BOTTOM_LEFT)return h.LEFT_BOTTOM;if(e===h.BOTTOM&&a===S.UP)return h.TOP;if(e===h.BOTTOM_RIGHT)return h.RIGHT_BOTTOM}return h.UNKNOWN}_checkPanelPosition(){const t=this._options.panelSize,e=this._element.offsetLeft,i=this._element.offsetTop,r=window.innerWidth,o=window.innerHeight;let a;return e>=0&&i===0?e<r/3?a=h.TOP_LEFT:e<r*2/3?a=h.TOP:a=h.TOP_RIGHT:e>=0&&i===o-t?e<r/3?a=h.BOTTOM_LEFT:e<r*2/3?a=h.BOTTOM:a=h.BOTTOM_RIGHT:e===0&&i>0?i<o/3?a=h.LEFT_TOP:i<o*2/3?a=h.LEFT:a=h.LEFT_BOTTOM:e===window.innerWidth-t&&i>0?i<o/3?a=h.RIGHT_TOP:i<o*2/3?a=h.RIGHT:a=h.RIGHT_BOTTOM:a=h.TOP_LEFT,this.panelPosition=a,a}};ut=qn([U(),Qn(0,J(D.DraggableService))],ut);var Zn=Object.defineProperty,ti=Object.getOwnPropertyDescriptor,ei=(n,t,e,i)=>{for(var r=i>1?void 0:i?ti(t,e):t,o=n.length-1,a;o>=0;o--)(a=n[o])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&Zn(t,e,r),r},ni=(n,t)=>(e,i)=>t(e,i,n);let ct=class extends et{constructor(t){super();p(this,"_margin",15);p(this,"_visible",!1);p(this,"_frameElement");this._frameContent=t}initialize(t){const e=this._element,i=document.createElement("div");return e.classList.add("devtool-frame-container"),i.classList.add("devtool-frame"),e.appendChild(i),e.style.width=`min(80vw, 100vw - ${this._margin*2}px)`,e.style.height=`min(70vh, 100vh - ${this._margin*2}px)`,t.container&&t.container.appendChild(e),this._frameElement=i,this}_computedBoundingValue(t,e){const i=window.innerWidth,r=window.innerHeight,o=this._element.getBoundingClientRect(),a=i-this._margin-o.width,u=r-this._margin-o.height;return e==="left"?Math.min(a,Math.max(this._margin,t)):e==="top"?Math.min(u,Math.max(this._margin,t)):this._margin}toggleVisible(){this._visible=!this._visible,this._visible?this._frameElement.classList.add("opened"):this._frameElement.classList.remove("opened")}moveFollow(t,e){const i=t.getBoundingClientRect(),r=this._element.getBoundingClientRect(),o={x:i.left+i.width/2,y:i.top+i.height/2};let a=0,u=0;const l=window.innerWidth,s=window.innerHeight;e.startsWith("TOP")?(a=this._computedBoundingValue(o.x-r.width/2,"left"),u=this._margin):e.startsWith("RIGHT")?(a=l-this._margin-r.width,u=this._computedBoundingValue(o.y-r.height/2,"top")):e.startsWith("BOTTOM")?(a=this._computedBoundingValue(o.x-r.width/2,"left"),u=s-this._margin-r.height):e.startsWith("LEFT")&&(a=this._margin,u=this._computedBoundingValue(o.y-r.height/2,"top")),this._element.style.left=`${a}px`,this._element.style.top=`${u}px`}renderContent(){this._frameContent.initialize({container:this._frameElement})}};ct=ei([U(),ni(0,J(D.FrameContent))],ct);var ii=Object.defineProperty,ri=Object.getOwnPropertyDescriptor,oi=(n,t,e,i)=>{for(var r=i>1?void 0:i?ri(t,e):t,o=n.length-1,a;o>=0;o--)(a=n[o])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&ii(t,e,r),r};let lt=class extends et{initialize(n){const t=this._element,e=document.createDocumentFragment();for(let i=0;i<10;i++){const r=document.createElement("div");r.style.height="50px",r.style.border="1px solid",e.appendChild(r)}return t.appendChild(e),n.container&&n.container.appendChild(t),this}};lt=oi([U()],lt);var ai=Object.defineProperty,si=Object.getOwnPropertyDescriptor,ui=(n,t,e,i)=>{for(var r=i>1?void 0:i?si(t,e):t,o=n.length-1,a;o>=0;o--)(a=n[o])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&ai(t,e,r),r},St=(n,t)=>(e,i)=>t(e,i,n);let ht=class extends et{constructor(n,t){if(super(),this._panel=n,this._frame=t,!document.body)throw new Error("Cannot find document.body, make sure this is in a browser environment.")}initialize(n){const t=this._element;t.classList.add("devtool-workbench"),this._frame.initialize({container:t}).renderContent();const e=this._panel.initialize({...n,container:t,onDragging:(i,r)=>{this._frame.moveFollow(i,r)},onClick:()=>{this._frame.toggleVisible()},onRightClick:i=>{console.log("right click panel open inspector",i)}}).makeDraggable().element;return n.container&&(n.container.appendChild(t),this._frame.moveFollow(e,n.initialPosition)),this}};ht=ui([U(),St(0,J(D.Panel)),St(1,J(D.Frame))],ht);let A;function fi(){return A||(A=new Mn({skipBaseClassChecks:!0}),A.bind(D.DraggableService).to(st).inSingletonScope(),A.bind(D.Panel).to(ut),A.bind(D.Frame).to(ct),A.bind(D.FrameContent).to(lt),A.bind(D.Workbench).to(ht),A)}export{h as E,D as I,fi as i,hi as j};
